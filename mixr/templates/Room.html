<!DOCTYPE html>
{% block javascript %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
    $(function() {
        $('#query').keyup(function(){
        $.ajax({
            type: 'GET',
            url: '/search/{{code}}/'+$('#query').val(),
            success: function(newData) {
                document.getElementById("songs").innerHTML = newData
            }
        })
    })
    setInterval(function () {$.ajax({
            type: 'GET',
            url: '/getsongs/{{code}}/',
            success: function(newData) {
                document.getElementById("added").innerHTML = newData
            }
        })},1000)
    })
    function plusVote(){
        console.log("plus")
    }
    function minusVote(){
        console.log("minus")
    }
</script>
   {% endblock %}
<html>
    <header>
        <h1>Room</h1>
    </header>
    <body>
<h1>Test Room {{code}}</h1>
<h2>Data : {{data}}</h2>
<h2>Add Songs Below</h2>
<form method= "POST">
{%csrf_token%}
<input id="query" type="text" onkeyup="" placeholder="Search.."/>
</form>

<ul id="songs">
{% for song in songs.values %}
<li>{{song}}</li>
{% endfor %}
</ul>
<br/>
<h3>Added songs</h3>
<ul id="added">
    <li>test</li>
    </ul>
<div>
    <button class="button1"><a href="Playlist" class="link">Export Playlist</a></button>
</div>
<h2> Songs Currently in Room</h2>
<ul id="roomSongs">
    {% for roomSong in roomSongs.values %}
    <li>{{roomSong}} <button type="button" onClick="plusVote()">+</button><button type="button" onClick="minusVote()">-</button></li>
    
    {% endfor %}
</ul>

    </body>
</html>
